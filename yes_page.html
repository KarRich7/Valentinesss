<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ø –∑–Ω–∞–ª —á—Ç–æ —Ç—ã —Å–∫–∞–∂–µ—à—å –¥–∞</title>
    <link rel="stylesheet" href="./yes_style.css">
</head>
<body>
    <div class="container">
        <h1 class="header_text">–Ø –∑–Ω–∞–ª —á—Ç–æ —Ç—ã —Å–∫–∞–∂–µ—à—å –¥–∞, YAY!</h1>
        <div class="gif_container">
            <!-- –£–±—Ä–∞–ª autoplay, –¥–æ–±–∞–≤–∏–ª preload –∏ –∑–∞–ø–∞—Å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã -->
            <video id="myVideo" controls playsinline preload="metadata">
                <source src="./valentin.mp4" type="video/mp4">
                <source src="./valentin.webm" type="video/webm">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
            </video>
        </div>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ -->
    <a href="https://t.me/+2aNTYPlSykYyYzZk" target="_blank" class="floating-button" id="floatingBtn">–¢—ã–∫</a>

    <script>
        // –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ
        const video = document.getElementById('myVideo');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å
        video.addEventListener('error', function(e) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ:', video.error);
            const container = document.querySelector('.gif_container');
            container.innerHTML = `
                <div style="padding: 20px; text-align: center; color: #d32f2f;">
                    <p>–í–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å üò¢</p>
                    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª <strong>valentin.mp4</strong> –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π</p>
                    <p>–ü—É—Ç—å: ${video.querySelector('source').src}</p>
                </div>
            `;
        });
        
        // –ö–æ–≥–¥–∞ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
        video.addEventListener('loadeddata', function() {
            console.log('–í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
            // –ü—ã—Ç–∞–µ–º—Å—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –≥–¥–µ —É–≥–æ–¥–Ω–æ
            document.addEventListener('click', function playVideo() {
                if (video.paused) {
                    video.play().catch(e => {
                        console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ');
                        video.controls = true;
                    });
                    document.removeEventListener('click', playVideo);
                }
            });
        });
        
        // –ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
        setTimeout(() => {
            if (video.readyState < 2) { // HAVE_CURRENT_DATA
                console.warn('–í–∏–¥–µ–æ –≤—Å–µ –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
            }
        }, 3000);

        // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
        const floatingBtn = document.getElementById('floatingBtn');
        let posX, posY;
        
        // –ù–∞—á–∞–ª—å–Ω–∞—è —Å–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
        function setRandomPosition() {
            posX = Math.random() * (window.innerWidth - floatingBtn.offsetWidth - 40) + 20;
            posY = Math.random() * (window.innerHeight - floatingBtn.offsetHeight - 40) + 20;
            
            floatingBtn.style.left = posX + 'px';
            floatingBtn.style.top = posY + 'px';
        }
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
        floatingBtn.style.position = 'fixed';
        setRandomPosition();
        
        // –ú–µ–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
        setInterval(setRandomPosition, 2000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', setRandomPosition);
    </script>
    <script src="./hearts.js"></script>
</body>
</html>
